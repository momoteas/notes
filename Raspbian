1. 安装mqtt:
    a. 更新apt-get: sudo apt-get update
    b. 安装mosquitto服务器及客户端：sudo apt-get install mosquitto mosquitto-clients
    c. 安装python对mqtt的支持：sudo pip install paho-mqtt
    d. 查看mosquitto的配置：
        cd /etc/mosquitto/
        vi mosquitto.conf (一般实用默认配置就可以)
    e.测试：
        开启一个终端：mosquitto_sub -t 'test' -d
        另一个终端：mosquitto_pub -t 'test' -m 'hello world' 

2. 安装dht的arduino IDE支持库：
    项目 --> 加载库 --> 管理库: dht sensor library by adafruit
                              adafruit sensor library (所有传感器的支持库)
                              
3. arduino安装mqtt的pubsubclient支持库：pubsubclient by Nick O'Leary

4. 安装node-red:
    a. 安装nodejs环境：
       sudo apt-get install npm
       sudo apt-get install nodejs
       sudo apt-get install nodejs-legacy
       注:
         (1).npm和node版本对应关系https://nodejs.org/zh-cn/download/releases/
         (2).安装指定版本npm:
             sudo npm install -g npm@6.4.1
             npm install -g n v10.15.2

    b. 安装node-red:
       sudo npm install node-red --unsafe-perm
       
    c. 安装node-red-dashboard
       进入 cd ~/.node-red
            npm i node-red-dashboard

5. 实现 WiFi 断线自动重连
  a. 1.Python 代码 autowifi.py，放在 /home/pi 目录下:
  #!/usr/bin/python
  import os, time 
  while True:
    if '192' not in os.popen('ifconfig | grep 192').read():
        print '\n****** wifi is down, restart... ******\n'
        os.system('sudo /etc/init.d/networking restart')
    time.sleep(5*60) #5 minutes
    
  b. Shell脚本autowifi.sh，也放在 /home/pi 目录下:
  #!/bin/sh
  python /home/pi/autowifi.py &
  
  c. 开机自动启动以上脚本：在终端窗口执行以下命令即可
  sudo cp -f /home/pi/autowifi.sh /etc/init.d/
  sudo chmod +x /etc/init.d/autowifi.sh
  sudo chown root:root /etc/init.d/autowifi.sh 
  sudo update-rc.d autowifi.sh defaults 



















    
